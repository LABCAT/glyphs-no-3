(this["webpackJsonpglyphs-no-3"]=this["webpackJsonpglyphs-no-3"]||[]).push([[0],{15:function(t,i,s){},31:function(t,i,s){"use strict";s.r(i);var e=s(1),h=s.n(e),n=s(9),a=s.n(n),o=(s(15),s(2));window.p5=o;s(20);var r=s(10),d=s(0);function c(){return Object(d.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(d.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}class p{constructor(t,i,s,e){let h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";this.p=t,this.hue=this.p.random(0,360),this.origin=this.p.createVector(i,s),this.width=h,this.maxWidth=e,this.rotation=0,this.lifeTime=n||this.p.random(5e3,15e3),this.startTime=this.p.millis(),this.endTime=this.startTime+this.lifeTime;const o=this.p.random(0,this.p.height),r=this.p.random(0,this.p.width);switch(this.direction=a||this.p.random(["left","right","up","down"]),this.direction){case"left":this.destination=this.p.createVector(0,o);break;case"right":this.destination=this.p.createVector(this.p.width,o);break;case"up":this.destination=this.p.createVector(r,0);break;case"down":this.destination=this.p.createVector(r,this.p.height)}this.clockwiseRotation=Math.random()<.5}update(){this.width<this.maxWidth&&(this.width=this.width+Math.random()/4),this.clockwiseRotation?this.rotation++:this.rotation--}draw(){const t=0-this.width/2,i=0+this.width/2,s=0-this.width/2,e=0+this.width/2,h=0+this.width/2,n=this.p.millis();if(n<this.endTime){const a=this.p.min(1,(n-this.startTime)/(this.endTime-this.startTime)),o=window.p5.Vector.sub(this.destination,this.origin).mult(a),r=window.p5.Vector.add(this.origin,o);this.p.translate(r.x,r.y),this.p.rotate(this.rotation),this.p.strokeWeight(4),this.p.stroke(this.hue,100,100),this.p.fill(this.hue,100,100,.25),this.p.triangle(t,i,0,s,e,h),this.p.rotate(-this.rotation),this.p.translate(-r.x,-r.y)}}}var l=function(t){for(var i,s,e=t.length;0!==e;)s=Math.floor(Math.random()*e),i=t[e-=1],t[e]=t[s],t[s]=i;return t};class u extends p{constructor(t,i,s,e,h,n){super(t,i,s,e,h),this.hueSet=l([30,60,90,120,150,180,210,240,270,300,330,360]),this.hue1=this.hueSet[0],this.hue2=this.hueSet[1],this.hue3=this.hueSet[2],this.hue4=this.hueSet[3],this.stroke=n?t.color(0,0,0):t.color(0,0,100),this.endTime=this.startTime+this.lifeTime+1e3}draw(){const t=this.p.millis();if(t<this.endTime){const i=this.p.min(1,(t-this.startTime)/(this.endTime-this.startTime)),s=window.p5.Vector.sub(this.destination,this.origin).mult(i),e=window.p5.Vector.add(this.origin,s);this.p.translate(e.x,e.y),this.p.rotate(this.rotation),this.p.strokeWeight(1),this.p.stroke(this.stroke),this.p.fill(this.hue1,100,100,.5),this.p.ellipse(0,0,this.width,this.width),this.p.fill(this.hue2,100,100,.5),this.p.ellipse(0,0,this.width/2,this.width/2),this.p.fill(this.hue1,100,100,.5),this.p.ellipse(0,0,this.width/4,this.width/4),this.p.rotate(-this.rotation),this.p.translate(-e.x,-e.y)}}}class w extends p{constructor(t,i,s,e,h,n){super(t,i,s,e,e/2,t.random(3e3,6e3)),this.width=this.maxWidth/4,this.shapeType=h,this.center=this.width/2,this.hsbColour=[Math.floor(this.p.random(0,360)),this.p.random(0,100),this.p.random(0,100)],this.hueDegree=this.hsbColour[0],this.brightnessTrans=this.p.map(this.hsbColour[2],0,100,.8,0),this.hueTrans=this.p.map(this.hsbColour[2],100,0,.9,.1)}update(){this.width<this.maxWidth&&(this.width=this.width+Math.random()/4),this.rotation++,this.center=this.width/2,this.circleSize=this.p.map(this.hsbColour[1],100,0,this.width,0+this.width/16),this.satCircles={brightness:[100,0,100],alpha:[.1875,.625,.375],size:[this.circleSize,this.circleSize/2,this.circleSize/4]},this.horiVertMin=this.p.map(this.hueDegree,0,179,this.center,0),this.horiVertMax=this.p.map(this.hueDegree,0,179,this.center,this.width),this.hueDegree>179&&(this.horiVertMin=0,this.horiVertMax=this.width),this.diagonalMin=this.p.map(this.hueDegree,359,180,0+this.width/8+this.width/32,this.center),this.diagonalMax=this.p.map(this.hueDegree,359,180,this.width-this.width/8-this.width/32,this.center),this.positions={x1:[this.center-this.width/32,this.center-this.width/32,this.center,this.center+this.width/32,this.center-this.width/32,this.center-this.width/32,this.center,this.center+this.width/32],y1:[this.center,this.center-this.width/32,this.center-this.width/32,this.center-this.width/32,this.center,this.center-this.width/32,this.center-this.width/32,this.center-this.width/32],x2:[this.center,this.diagonalMax,this.horiVertMax,this.diagonalMax,this.center,this.diagonalMin,this.horiVertMin,this.diagonalMin],y2:[this.horiVertMin,this.diagonalMin,this.center,this.diagonalMax,this.horiVertMax,this.diagonalMax,this.center,this.diagonalMin],x3:[this.center+this.width/32,this.center+this.width/32,this.center,this.center-this.width/32,this.center+this.width/32,this.center+this.width/32,this.center,this.center-this.width/32],y3:[this.center,this.center+this.width/32,this.center+this.width/32,this.center+this.width/32,this.center,this.center+this.width/32,this.center+this.width/32,this.center+this.width/32]}}draw(){const t=this.p.millis();if(t<this.endTime){const s=this.p.min(1,(t-this.startTime)/(this.endTime-this.startTime)),e=window.p5.Vector.sub(this.destination,this.origin).mult(s),h=window.p5.Vector.add(this.origin,e);this.p.push(),this.p.translate(h.x,h.y),this.p.rotate(this.rotation),this.p.stroke(0);for(var i=0;i<3;i++)this.p.fill(0,0,this.satCircles.brightness[i],this.satCircles.alpha[i]),this.p.ellipse(this.center,this.center,this.satCircles.size[i]);this.p.fill(this.hue,100,100,this.brightnessTrans),this[this.shapeType](this.center,this.center,this.width/3),this.p.noStroke(),this.p.angleMode(this.p.DEGREES),this.p.translate(this.center,this.center),this.p.rotate(this.hueDegree);const n=Array(this.hue,100,100,this.hueTrans);this.star(n,this.positions,3),this.p.rotate(-this.hueDegree),this.p.translate(-this.center,-this.center),this.star(Array(0,0,100,.8),this.positions),this.p.rotate(-this.rotation),this.p.translate(-h.x,-h.y),this.p.pop()}}octagon(t,i,s){this.p.angleMode(this.p.RADIANS);const e=this.p.TWO_PI/8;this.p.beginShape();for(let h=this.p.TWO_PI/16;h<this.p.TWO_PI+this.p.TWO_PI/16;h+=e){const e=t+this.p.cos(h)*s,n=i+this.p.sin(h)*s;this.p.vertex(e,n)}this.p.endShape(this.p.CLOSE),this.p.angleMode(this.p.DEGREES)}pentagon(t,i,s){this.p.angleMode(this.p.RADIANS);const e=this.p.TWO_PI/5;this.p.beginShape();for(let h=this.p.TWO_PI/10;h<this.p.TWO_PI+this.p.TWO_PI/10;h+=e){const e=t+this.p.cos(h)*s,n=i+this.p.sin(h)*s;this.p.vertex(e,n)}this.p.endShape(this.p.CLOSE),this.p.angleMode(this.p.DEGREES)}star(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.p.fill(t[0],t[1],t[2],t[3]);for(let e=0;e<8;e++)this.p.triangle(i.x1[e]/s,i.y1[e]/s,i.x2[e]/s,i.y2[e]/s,i.x3[e]/s,i.y3[e]/s)}}class g extends p{constructor(t,i,s,e,h,n){super(t,i,s,e,h),this.hueSet=l([30,60,90,120,150,180,210,240,270,300,330,360]),this.hue1=this.hueSet[0],this.hue2=this.hueSet[1],this.hue3=this.hueSet[2],this.hue4=this.hueSet[3],this.stroke=n?t.color(0,0,0):t.color(0,0,100),this.endTime=this.startTime+this.lifeTime+1e3}drawHexagon(t,i,s,e){this.p.angleMode(this.p.RADIANS);const h=this.p.TWO_PI/6;this.p.beginShape(),this.p.stroke(this.stroke),this.p.fill(e,100,100,.5);for(let n=this.p.TWO_PI/12;n<this.p.TWO_PI+this.p.TWO_PI/12;n+=h){const e=t+this.p.cos(n)*s,h=i+this.p.sin(n)*s;this.p.vertex(e,h)}this.p.endShape(this.p.CLOSE),this.p.angleMode(this.p.DEGREES)}draw(){const t=this.p.millis();if(t<this.endTime){const i=this.p.min(1,(t-this.startTime)/(this.endTime-this.startTime)),s=window.p5.Vector.sub(this.destination,this.origin).mult(i),e=window.p5.Vector.add(this.origin,s);this.p.translate(e.x,e.y),this.p.rotate(this.rotation),this.p.strokeWeight(1),this.drawHexagon(0,0,this.width,this.hue1),this.drawHexagon(0,0,this.width/2,this.hue2),this.drawHexagon(0,0,this.width/4,this.hue1),this.p.rotate(-this.rotation),this.p.translate(-e.x,-e.y)}}}class m extends p{constructor(t,i,s,e){super(t,i,s,e,e/4,t.random(3e3,5e3)),this.hue=l([30,60,90,120,150,180,210,240,270,300,330,360])[0],this.satCircles={brightness:[100,0,100],alpha:[.1875,.625,.375],size:[e/3,e/6,e/12]}}draw(){const t=0-this.width/2,i=0+this.width/2,s=0-this.width/2,e=0+this.width/2,h=0+this.width/2,n=0-this.width/2,a=0-this.width/2,o=0+this.width/2,r=0+this.width/2,d=0-this.width/2,c=this.p.millis();if(c<this.endTime){const p=this.p.min(1,(c-this.startTime)/(this.endTime-this.startTime)),l=window.p5.Vector.sub(this.destination,this.origin).mult(p),u=window.p5.Vector.add(this.origin,l);this.p.translate(u.x,u.y),this.p.rotate(this.rotation),this.p.stroke(0);for(let t=0;t<3;t++)this.p.fill(0,0,this.satCircles.brightness[t],this.satCircles.alpha[t]),this.p.ellipse(0,0,this.satCircles.size[t]);this.p.strokeWeight(4),this.p.stroke(this.hue,100,100),this.p.fill(this.hue,100,100,.1),this.p.triangle(t,i,0,s,e,h),this.p.triangle(n,a,0,o,r,d);const w=(this.hue+180)%360;this.p.stroke(this.hue,0,100),this.p.fill(w,100,100,.5),this.p.push(),this.p.scale(.75),this.p.triangle(t,i,0,s,e,h),this.p.triangle(n,a,0,o,r,d),this.p.stroke(this.hue,0,0),this.p.fill(this.hue,100,100,.5),this.p.scale(.5),this.p.triangle(t,i,0,s,e,h),this.p.triangle(n,a,0,o,r,d),this.p.pop(),this.p.rotate(-this.rotation),this.p.translate(-u.x,-u.y),this.p.strokeWeight(1)}}octagon(t,i,s){this.p.angleMode(this.p.RADIANS);const e=this.p.TWO_PI/8;this.p.beginShape();for(let h=this.p.TWO_PI/16;h<this.p.TWO_PI+this.p.TWO_PI/16;h+=e){const e=t+this.p.cos(h)*s,n=i+this.p.sin(h)*s;this.p.vertex(e,n)}this.p.endShape(this.p.CLOSE),this.p.angleMode(this.p.DEGREES)}}var y=s.p+"static/media/glyphs-no-3.7aea6911.ogg",f=s.p+"static/media/glyphs-no-3.466d9c9c.mid";var S=()=>{const t=Object(e.useRef)(),i=t=>{t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=15360,t.bpm=112.444,t.loadMidi=()=>{r.Midi.fromUrl(f).then((function(i){console.log(i);const s=i.tracks[8].notes;t.scheduleCueSet(s,"executeCueSet1",!0);const e=i.tracks[14].notes;t.scheduleCueSet(e,"executeCueSet2");const h=i.tracks[21].notes;t.scheduleCueSet(h,"executeCueSet3");const n=Object.assign({},i.tracks[23].controlChanges);t.scheduleCueSet(n[Object.keys(n)[0]],"executeCueSet4");const a=i.tracks[10].notes;t.scheduleCueSet(a,"executeCueSet5"),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=()=>{t.song=t.loadSound(y,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(i,s){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=-1,n=1;for(let a=0;a<i.length;a++){const o=i[a],{ticks:r,time:d}=o;(r!==h||e)&&(o.currentCue=n,t.song.addCue(d,t[s],o),h=r,n++)}},t.setup=()=>{t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.background(0),t.colorMode(t.HSB),t.rectMode(t.CENTER),t.angleMode(t.DEGREES),t.bgHue=t.random(0,360)},t.animatedGlyphs=[],t.animatedGlyphs2=[],t.bgHue=0,t.bgOpacity=.9,t.draw=()=>{if(t.audioLoaded&&t.song.isPlaying()){t.background(t.bgHue,100,50,t.bgOpacity);for(let i=0;i<t.animatedGlyphs.length;i++){const s=t.animatedGlyphs[i];s.update(),s.draw()}for(let i=0;i<t.animatedGlyphs2.length;i++){const s=t.animatedGlyphs2[i];s.update(),s.draw()}}},t.circleGlyphScale=0,t.circleGlyphDarkMode=0,t.executeCueSet1=i=>{const{currentCue:s,midi:e}=i,h=t.random(-t.width/24,t.width/24),n=t.width/2+h,a=t.height/2+h,o=t.random(t.width/32,t.width/64),r=t.width/16;if(s%62===1&&t.circleGlyphScale++,e<67){for(let i=0;i<8;i++)setTimeout((()=>{t.animatedGlyphs.push(new u(t,n,a,r/t.circleGlyphScale,o/t.circleGlyphScale,t.circleGlyphDarkMode))}),20*i);t.circleGlyphDarkMode=!t.circleGlyphDarkMode}},t.executeCueSet2=i=>{const{currentCue:s}=i,e=t.random(t.height/4,t.width/4),h=t.width/2,n=t.height/2;1===s&&(t.animatedGlyphs=[]),t.animatedGlyphs2.push(new m(t,h,n,e))},t.executeCueSet3=i=>{const{currentCue:s,durationTicks:e}=i,h=t.random(-t.width/64,t.width/64),n=t.width/2+h,a=t.height/2+h,o=t.width/32,r=e>1e4?56:8,d=6e4/(t.bpm*t.PPQ)*e/r;if(s>=18)for(let c=0;c<r;c++)setTimeout((()=>{t.animatedGlyphs.push(new g(t,n,a,o,o/4,e>1e4))}),d*c)},t.starGlyphOpacity=0,t.executeCueSet4=i=>{const{currentCue:s}=i;s<=2048&&(t.starGlyphOpacity=i.value)},t.executeCueSet5=i=>{const{currentCue:s}=i,e=6e4/t.bpm/4*3;setTimeout((()=>{const i=t.random(-t.width/24,t.width/24);let e=t.width/2,h=t.random(["octagon","pentagon"]),n=t.random(t.width/3,t.width-t.width/3),a=t.random(t.height/3,t.height-t.height/3);if(s%6===1&&s<18&&(t.animatedGlyphs=[]),t.animatedGlyphs2.push(new w(t,n,a,e,h)),s>18){n=t.width/2+i,a=t.height/2+i,e=t.random(t.width/8,t.width/12);const s=50;for(let i=0;i<8;i++)setTimeout((()=>{t.animatedGlyphs2.push(new w(t,n,a,e,h))}),s*i)}}),e)},t.hasStarted=!1,t.mousePressed=()=>{t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play(),"undefined"===typeof window.dataLayer||t.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),t.hasStarted=!1)))},t.creditsLogged=!1,t.logCredits=()=>{!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=()=>{},t.updateCanvasDimensions=()=>{t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(e.useEffect)((()=>{new o(i,t.current)}),[]),Object(d.jsx)("div",{ref:t,children:Object(d.jsx)(c,{})})};var T=function(){return Object(d.jsx)(S,{})};a.a.render(Object(d.jsx)(h.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4c8ad868.chunk.js.map